<form [formGroup]="noticeForm" (submit)="saveChanges()">

    <mat-form-field appearance="outline">
        <mat-label>Title</mat-label>
        <input matInput [formControl]="noticeForm.controls.title">
        <mat-error>{{getErrorMessagesForName()}}</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
        <mat-label>Description</mat-label>
        <input matInput [formControl]="noticeForm.controls.description">
        <mat-error>{{getErrorMessagesForDescription()}}</mat-error>
    </mat-form-field>

    <mat-form-field>
        <mat-label>Category</mat-label>
        <mat-select [formControl]="noticeForm.controls.categoryId">
            @for (category of categories; track $index) {
                <mat-option [value]="category.id">{{category.name}}</mat-option>
            }        
        </mat-select>
    </mat-form-field>

    <h4>Select the City</h4>
    <app-cities-autocomplete (postCity)="handleCitySelection($event)"></app-cities-autocomplete>

    <app-input-img title="Notice's Picture" 
        [imageURL]="model?.imageFile"
        (selectedImageFile)="handleFileSelection($event)">
    </app-input-img>

    <div class="buttons-container">
        <button mat-flat-button type="submit" [disabled]="noticeForm.invalid">Save changes</button>
        <a mat-stroked-button routerLink="/my-notices">Cancel</a>
    </div>

    
</form>